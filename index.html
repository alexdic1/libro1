<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <title>Regno dei Morti - Immersivo</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <style>
      body { margin: 0; overflow: hidden; background: black; }
      #overlay {
        position: absolute;
        bottom: 20px;
        right: 20px;
        background: rgba(0, 0, 0, 0.6);
        color: white;
        padding: 10px 20px;
        font-size: 1em;
        border-radius: 6px;
        cursor: pointer;
        z-index: 10;
        font-family: sans-serif;
        transition: opacity 0.5s;
      }
    </style>
  </head>
  <body>
    <div id="overlay">clicca per entrare</div>

    <a-scene background="color: #000000">
      <a-assets>
        <img id="skyTexture" src="assets/sky360.jpg">
        <audio id="audio-bg" src="assets/musica1.mp3"></audio>
      </a-assets>

      <!-- Cielo panoramico -->
      <a-sky src="#skyTexture" rotation="0 -90 0" radius="5000"></a-sky>

      <!-- Audio -->
      <a-entity id="audio" sound="src: #audio-bg; autoplay: false; loop: true; positional: false; volume: 0.6"></a-entity>

      <!-- Camera -->
      <a-entity camera look-controls wasd-controls position="0 1.6 0"></a-entity>
    </a-scene>

    <script>
      const overlay = document.getElementById('overlay');
      const audio = document.getElementById('audio');

      overlay.addEventListener('click', () => {
        overlay.style.opacity = '0';
        setTimeout(() => overlay.style.display = 'none', 500);
        audio.components.sound.playSound();
      });
    </script>
  </body>
</html>
